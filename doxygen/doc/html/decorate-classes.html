<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>BayesFilters Library: How to decorate classes to add functionalities</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">BayesFilters Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">How to decorate classes to add functionalities </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The <a href="https://en.wikipedia.org/wiki/Decorator_pattern"><em>Decroator patter</em></a> is extensively used within the library to dynamically add new functionality to other classes. This is particularly useful to design flexible and reusable object-oriented software providing an alternative to subclassing. In particular, when there are <b>several independent ways of extending functionality</b> and it is difficult to predict, at design time, what combinations of such functionalities will be needed, subclassing would require to make every possible (or most of the) combination of such functionalities, while <b>decorators provide much more flexibility combining functionalities on a per-use basis and foster code reuse</b>.<br />
</p>
<p>The following snippet code shows how to decorate filtering classes like <a class="el" href="classbfl_1_1StateModel.html">StateModel</a>, <a class="el" href="classbfl_1_1ObservationModel.html">ObservationModel</a>, <a class="el" href="classbfl_1_1PFPrediction.html">PFPrediction</a> and <a class="el" href="classbfl_1_1PFCorrection.html">PFCorrection</a>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;chrono&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &lt;memory&gt;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="DrawParticles_8h.html">BayesFilters/DrawParticles.h</a>&gt;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="LinearSensor_8h.html">BayesFilters/LinearSensor.h</a>&gt;</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="ObservationModelDecorator_8h.html">BayesFilters/ObservationModelDecorator.h</a>&gt;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PFCorrectionDecorator_8h.html">BayesFilters/PFCorrectionDecorator.h</a>&gt;</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="PFPredictionDecorator_8h.html">BayesFilters/PFPredictionDecorator.h</a>&gt;</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="Resampling_8h.html">BayesFilters/Resampling.h</a>&gt;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="StateModelDecorator_8h.html">BayesFilters/StateModelDecorator.h</a>&gt;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="SIS_8h.html">BayesFilters/SIS.h</a>&gt;</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="UpdateParticles_8h.html">BayesFilters/UpdateParticles.h</a>&gt;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="WhiteNoiseAcceleration_8h.html">BayesFilters/WhiteNoiseAcceleration.h</a>&gt;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespacebfl.html">bfl</a>;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="keyword">class </span>DecoratedWNA : <span class="keyword">public</span> <a class="code" href="classbfl_1_1StateModelDecorator.html">StateModelDecorator</a></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;    DecoratedWNA(std::unique_ptr&lt;StateModel&gt; state_model) noexcept :</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <a class="code" href="classbfl_1_1StateModelDecorator.html">StateModelDecorator</a>(std::move(state_model)) { };</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordtype">void</span> motion(<span class="keyword">const</span> Eigen::Ref&lt;const Eigen::MatrixXf&gt;&amp; cur_states, Eigen::Ref&lt;Eigen::MatrixXf&gt; mot_states)<span class="keyword"> override</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Decorator: DecoratedWNA::motion().&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <a class="code" href="classbfl_1_1StateModelDecorator.html#a0a645d8be4085ec13d9715a41c84a9b3">StateModelDecorator::motion</a>(cur_states, mot_states);</div><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    }</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;};</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="keyword">class </span>DecoratedLinearSensor : <span class="keyword">public</span> <a class="code" href="classbfl_1_1ObservationModelDecorator.html">ObservationModelDecorator</a></div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    DecoratedLinearSensor(std::unique_ptr&lt;ObservationModel&gt; observation_model) noexcept :</div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="classbfl_1_1ObservationModelDecorator.html">ObservationModelDecorator</a>(std::move(observation_model)) { }</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">void</span> measure(<span class="keyword">const</span> Eigen::Ref&lt;const Eigen::MatrixXf&gt;&amp; cur_states, Eigen::Ref&lt;Eigen::MatrixXf&gt; measurements)<span class="keyword"> override</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Decorator: DecoratedLinearSensor::measure().&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        <a class="code" href="classbfl_1_1ObservationModelDecorator.html#a6b0da9bcfe0fd1beb119c79f83f8cc9a">ObservationModelDecorator::measure</a>(cur_states, measurements);</div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;};</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">class </span>DecoratedDrawParticles : <span class="keyword">public</span> <a class="code" href="classbfl_1_1PFPredictionDecorator.html">PFPredictionDecorator</a></div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;{</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    DecoratedDrawParticles(std::unique_ptr&lt;PFPrediction&gt; prediction) noexcept :</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="classbfl_1_1PFPredictionDecorator.html">PFPredictionDecorator</a>(std::move(prediction)) { }</div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div><div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">void</span> predictStep(<span class="keyword">const</span> Eigen::Ref&lt;const Eigen::MatrixXf&gt;&amp; prev_states, <span class="keyword">const</span> Eigen::Ref&lt;const Eigen::VectorXf&gt;&amp; prev_weights,</div><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;                     Eigen::Ref&lt;Eigen::MatrixXf&gt; pred_states, Eigen::Ref&lt;Eigen::VectorXf&gt; pred_weights)<span class="keyword"> override</span></div><div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Decorator: DecoratedDrawParticles::predictStep().&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classbfl_1_1PFPredictionDecorator.html#af005f96b493e9ba72058613bbc7a8e43">PFPredictionDecorator::predictStep</a>(prev_states, prev_weights, pred_states, pred_weights);</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;};</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">class </span>DecoratedUpdateParticles : <span class="keyword">public</span> <a class="code" href="classbfl_1_1PFCorrectionDecorator.html">PFCorrectionDecorator</a></div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    DecoratedUpdateParticles(std::unique_ptr&lt;PFCorrection&gt; correction) noexcept :</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <a class="code" href="classbfl_1_1PFCorrectionDecorator.html">PFCorrectionDecorator</a>(std::move(correction)) { }</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword">protected</span>:</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="keywordtype">void</span> correctStep(<span class="keyword">const</span> Eigen::Ref&lt;const Eigen::MatrixXf&gt;&amp; pred_states, <span class="keyword">const</span> Eigen::Ref&lt;const Eigen::VectorXf&gt;&amp; pred_weights, <span class="keyword">const</span> Eigen::Ref&lt;const Eigen::MatrixXf&gt;&amp; measurements,</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                     Eigen::Ref&lt;Eigen::MatrixXf&gt; cor_states, Eigen::Ref&lt;Eigen::VectorXf&gt; cor_weights)<span class="keyword"> override</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="keyword">    </span>{</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        std::cout &lt;&lt; <span class="stringliteral">&quot;Decorator: DecoratedUpdateParticles::correctStep().&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="classbfl_1_1PFCorrectionDecorator.html#abb5ab0ef4245b67be546360a54416498">PFCorrectionDecorator::correctStep</a>(pred_states, pred_weights, measurements, cor_states, cor_weights);</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;};</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="keywordtype">int</span> main()</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;{</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="comment">/* Initialize a white noise acceleration motion model */</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    std::unique_ptr&lt;WhiteNoiseAcceleration&gt; wna(<span class="keyword">new</span> <a class="code" href="classbfl_1_1WhiteNoiseAcceleration.html">WhiteNoiseAcceleration</a>());</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">/* Initialize a white noise acceleration decorator */</span></div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    std::unique_ptr&lt;DecoratedWNA&gt; decorated_wna(<span class="keyword">new</span> DecoratedWNA(std::move(wna)));</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="comment">/* Pass ownership of the motion model to the prediction step */</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    std::unique_ptr&lt;DrawParticles&gt; pf_prediction(<span class="keyword">new</span> <a class="code" href="classbfl_1_1DrawParticles.html">DrawParticles</a>());</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    pf_prediction-&gt;setStateModel(std::move(decorated_wna));</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="comment">/* Initialize a draw particle decorator */</span></div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    std::unique_ptr&lt;DecoratedDrawParticles&gt; decorated_prediction(<span class="keyword">new</span> DecoratedDrawParticles(std::move(pf_prediction)));</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="comment">/* Initialize a linear sensor (provides direct observation of the state) */</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    std::unique_ptr&lt;LinearSensor&gt; lin_sense(<span class="keyword">new</span> <a class="code" href="classbfl_1_1LinearSensor.html">LinearSensor</a>());</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="comment">/* Initialize a white noise acceleration decorator */</span></div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    std::unique_ptr&lt;DecoratedLinearSensor&gt; decorated_linearsensor(<span class="keyword">new</span> DecoratedLinearSensor(std::move(lin_sense)));</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">/* Pass ownership of the observation model (the sensor) to the prediction step */</span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    std::unique_ptr&lt;UpdateParticles&gt; pf_correction(<span class="keyword">new</span> <a class="code" href="classbfl_1_1UpdateParticles.html">UpdateParticles</a>());</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    pf_correction-&gt;setObservationModel(std::move(decorated_linearsensor));</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="comment">/* Initialize a update particle decorator */</span></div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    std::unique_ptr&lt;DecoratedUpdateParticles&gt; decorated_correction(<span class="keyword">new</span> DecoratedUpdateParticles(std::move(pf_correction)));</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div><div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="comment">/* Initialize a resampling algorithm */</span></div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    std::unique_ptr&lt;Resampling&gt; resampling(<span class="keyword">new</span> <a class="code" href="classbfl_1_1Resampling.html">Resampling</a>());</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Constructing SIS particle filter...&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="classbfl_1_1SIS.html">SIS</a> sis_pf;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    sis_pf.<a class="code" href="classbfl_1_1ParticleFilter.html#a213811368143c1f498c87be70cf02379">setPrediction</a>(std::move(decorated_prediction));</div><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    sis_pf.<a class="code" href="classbfl_1_1ParticleFilter.html#a3d2935addf4481325a3fe8b99fe4d07a">setCorrection</a>(std::move(decorated_correction));</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    sis_pf.<a class="code" href="classbfl_1_1ParticleFilter.html#ad1618ed06b6e6e143e309e2267b970ee">setResampling</a>(std::move(resampling));</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;done!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Preparing SIS particle filter...&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    sis_pf.<a class="code" href="classbfl_1_1FilteringAlgorithm.html#a96651f8464190c0a56d79219a1017147">boot</a>();</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;completed!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Running SIS particle filter...&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    sis_pf.<a class="code" href="classbfl_1_1FilteringAlgorithm.html#a009cbe5f4bbb16967f6c6ddcaed8fbb1">run</a>();</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;waiting...&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (!sis_pf.<a class="code" href="classbfl_1_1FilteringAlgorithm.html#a40372c24fa050eb0274371172df0a244">wait</a>())</div><div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="keywordflow">return</span> EXIT_FAILURE;</div><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;completed!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div><div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;Storing filtering results...&quot;</span> &lt;&lt; std::flush;</div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    sis_pf.<a class="code" href="classbfl_1_1SIS.html#a059da4c932379643ff7005fe4d0fda89">getResult</a>();</div><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    std::cout &lt;&lt; <span class="stringliteral">&quot;done!&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="keywordflow">return</span> EXIT_SUCCESS;</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;}</div><div class="ttc" id="ObservationModelDecorator_8h_html"><div class="ttname"><a href="ObservationModelDecorator_8h.html">ObservationModelDecorator.h</a></div></div>
<div class="ttc" id="DrawParticles_8h_html"><div class="ttname"><a href="DrawParticles_8h.html">DrawParticles.h</a></div></div>
<div class="ttc" id="classbfl_1_1StateModelDecorator_html_a0a645d8be4085ec13d9715a41c84a9b3"><div class="ttname"><a href="classbfl_1_1StateModelDecorator.html#a0a645d8be4085ec13d9715a41c84a9b3">bfl::StateModelDecorator::motion</a></div><div class="ttdeci">void motion(const Eigen::Ref&lt; const Eigen::MatrixXf &gt; &amp;cur_states, Eigen::Ref&lt; Eigen::MatrixXf &gt; mot_states) override</div><div class="ttdef"><b>Definition:</b> <a href="StateModelDecorator_8cpp_source.html#l00032">StateModelDecorator.cpp:32</a></div></div>
<div class="ttc" id="classbfl_1_1FilteringAlgorithm_html_a96651f8464190c0a56d79219a1017147"><div class="ttname"><a href="classbfl_1_1FilteringAlgorithm.html#a96651f8464190c0a56d79219a1017147">bfl::FilteringAlgorithm::boot</a></div><div class="ttdeci">bool boot()</div><div class="ttdef"><b>Definition:</b> <a href="FilteringAlgorithm_8cpp_source.html#l00008">FilteringAlgorithm.cpp:8</a></div></div>
<div class="ttc" id="WhiteNoiseAcceleration_8h_html"><div class="ttname"><a href="WhiteNoiseAcceleration_8h.html">WhiteNoiseAcceleration.h</a></div></div>
<div class="ttc" id="UpdateParticles_8h_html"><div class="ttname"><a href="UpdateParticles_8h.html">UpdateParticles.h</a></div></div>
<div class="ttc" id="classbfl_1_1PFCorrectionDecorator_html_abb5ab0ef4245b67be546360a54416498"><div class="ttname"><a href="classbfl_1_1PFCorrectionDecorator.html#abb5ab0ef4245b67be546360a54416498">bfl::PFCorrectionDecorator::correctStep</a></div><div class="ttdeci">void correctStep(const Eigen::Ref&lt; const Eigen::MatrixXf &gt; &amp;pred_states, const Eigen::Ref&lt; const Eigen::VectorXf &gt; &amp;pred_weights, const Eigen::Ref&lt; const Eigen::MatrixXf &gt; &amp;measurements, Eigen::Ref&lt; Eigen::MatrixXf &gt; cor_states, Eigen::Ref&lt; Eigen::VectorXf &gt; cor_weights) override</div><div class="ttdef"><b>Definition:</b> <a href="PFCorrectionDecorator_8cpp_source.html#l00044">PFCorrectionDecorator.cpp:44</a></div></div>
<div class="ttc" id="SIS_8h_html"><div class="ttname"><a href="SIS_8h.html">SIS.h</a></div></div>
<div class="ttc" id="classbfl_1_1PFPredictionDecorator_html"><div class="ttname"><a href="classbfl_1_1PFPredictionDecorator.html">bfl::PFPredictionDecorator</a></div><div class="ttdef"><b>Definition:</b> <a href="PFPredictionDecorator_8h_source.html#l00013">PFPredictionDecorator.h:13</a></div></div>
<div class="ttc" id="LinearSensor_8h_html"><div class="ttname"><a href="LinearSensor_8h.html">LinearSensor.h</a></div></div>
<div class="ttc" id="classbfl_1_1SIS_html_a059da4c932379643ff7005fe4d0fda89"><div class="ttname"><a href="classbfl_1_1SIS.html#a059da4c932379643ff7005fe4d0fda89">bfl::SIS::getResult</a></div><div class="ttdeci">void getResult() override</div><div class="ttdef"><b>Definition:</b> <a href="SIS_8cpp_source.html#l00111">SIS.cpp:111</a></div></div>
<div class="ttc" id="classbfl_1_1PFPredictionDecorator_html_af005f96b493e9ba72058613bbc7a8e43"><div class="ttname"><a href="classbfl_1_1PFPredictionDecorator.html#af005f96b493e9ba72058613bbc7a8e43">bfl::PFPredictionDecorator::predictStep</a></div><div class="ttdeci">void predictStep(const Eigen::Ref&lt; const Eigen::MatrixXf &gt; &amp;prev_states, const Eigen::Ref&lt; const Eigen::VectorXf &gt; &amp;prev_weights, Eigen::Ref&lt; Eigen::MatrixXf &gt; pred_states, Eigen::Ref&lt; Eigen::VectorXf &gt; pred_weights) override</div><div class="ttdef"><b>Definition:</b> <a href="PFPredictionDecorator_8cpp_source.html#l00028">PFPredictionDecorator.cpp:28</a></div></div>
<div class="ttc" id="PFPredictionDecorator_8h_html"><div class="ttname"><a href="PFPredictionDecorator_8h.html">PFPredictionDecorator.h</a></div></div>
<div class="ttc" id="PFCorrectionDecorator_8h_html"><div class="ttname"><a href="PFCorrectionDecorator_8h.html">PFCorrectionDecorator.h</a></div></div>
<div class="ttc" id="classbfl_1_1WhiteNoiseAcceleration_html"><div class="ttname"><a href="classbfl_1_1WhiteNoiseAcceleration.html">bfl::WhiteNoiseAcceleration</a></div><div class="ttdef"><b>Definition:</b> <a href="WhiteNoiseAcceleration_8h_source.html#l00014">WhiteNoiseAcceleration.h:14</a></div></div>
<div class="ttc" id="Resampling_8h_html"><div class="ttname"><a href="Resampling_8h.html">Resampling.h</a></div></div>
<div class="ttc" id="classbfl_1_1StateModelDecorator_html"><div class="ttname"><a href="classbfl_1_1StateModelDecorator.html">bfl::StateModelDecorator</a></div><div class="ttdef"><b>Definition:</b> <a href="StateModelDecorator_8h_source.html#l00013">StateModelDecorator.h:13</a></div></div>
<div class="ttc" id="classbfl_1_1FilteringAlgorithm_html_a40372c24fa050eb0274371172df0a244"><div class="ttname"><a href="classbfl_1_1FilteringAlgorithm.html#a40372c24fa050eb0274371172df0a244">bfl::FilteringAlgorithm::wait</a></div><div class="ttdeci">bool wait()</div><div class="ttdef"><b>Definition:</b> <a href="FilteringAlgorithm_8cpp_source.html#l00034">FilteringAlgorithm.cpp:34</a></div></div>
<div class="ttc" id="classbfl_1_1ObservationModelDecorator_html"><div class="ttname"><a href="classbfl_1_1ObservationModelDecorator.html">bfl::ObservationModelDecorator</a></div><div class="ttdef"><b>Definition:</b> <a href="ObservationModelDecorator_8h_source.html#l00013">ObservationModelDecorator.h:13</a></div></div>
<div class="ttc" id="StateModelDecorator_8h_html"><div class="ttname"><a href="StateModelDecorator_8h.html">StateModelDecorator.h</a></div></div>
<div class="ttc" id="namespacebfl_html"><div class="ttname"><a href="namespacebfl.html">bfl</a></div><div class="ttdef"><b>Definition:</b> <a href="DrawParticles_8h_source.html#l00009">DrawParticles.h:9</a></div></div>
<div class="ttc" id="classbfl_1_1FilteringAlgorithm_html_a009cbe5f4bbb16967f6c6ddcaed8fbb1"><div class="ttname"><a href="classbfl_1_1FilteringAlgorithm.html#a009cbe5f4bbb16967f6c6ddcaed8fbb1">bfl::FilteringAlgorithm::run</a></div><div class="ttdeci">void run()</div><div class="ttdef"><b>Definition:</b> <a href="FilteringAlgorithm_8cpp_source.html#l00026">FilteringAlgorithm.cpp:26</a></div></div>
<div class="ttc" id="classbfl_1_1ParticleFilter_html_a3d2935addf4481325a3fe8b99fe4d07a"><div class="ttname"><a href="classbfl_1_1ParticleFilter.html#a3d2935addf4481325a3fe8b99fe4d07a">bfl::ParticleFilter::setCorrection</a></div><div class="ttdeci">void setCorrection(std::unique_ptr&lt; PFCorrection &gt; correction)</div><div class="ttdef"><b>Definition:</b> <a href="ParticleFilter_8cpp_source.html#l00042">ParticleFilter.cpp:42</a></div></div>
<div class="ttc" id="classbfl_1_1DrawParticles_html"><div class="ttname"><a href="classbfl_1_1DrawParticles.html">bfl::DrawParticles</a></div><div class="ttdef"><b>Definition:</b> <a href="DrawParticles_8h_source.html#l00014">DrawParticles.h:14</a></div></div>
<div class="ttc" id="classbfl_1_1ObservationModelDecorator_html_a6b0da9bcfe0fd1beb119c79f83f8cc9a"><div class="ttname"><a href="classbfl_1_1ObservationModelDecorator.html#a6b0da9bcfe0fd1beb119c79f83f8cc9a">bfl::ObservationModelDecorator::measure</a></div><div class="ttdeci">void measure(const Eigen::Ref&lt; const Eigen::MatrixXf &gt; &amp;cur_states, Eigen::Ref&lt; Eigen::MatrixXf &gt; measurements) override</div><div class="ttdef"><b>Definition:</b> <a href="ObservationModelDecorator_8cpp_source.html#l00032">ObservationModelDecorator.cpp:32</a></div></div>
<div class="ttc" id="classbfl_1_1ParticleFilter_html_ad1618ed06b6e6e143e309e2267b970ee"><div class="ttname"><a href="classbfl_1_1ParticleFilter.html#ad1618ed06b6e6e143e309e2267b970ee">bfl::ParticleFilter::setResampling</a></div><div class="ttdeci">void setResampling(std::unique_ptr&lt; Resampling &gt; resampling)</div><div class="ttdef"><b>Definition:</b> <a href="ParticleFilter_8cpp_source.html#l00048">ParticleFilter.cpp:48</a></div></div>
<div class="ttc" id="classbfl_1_1Resampling_html"><div class="ttname"><a href="classbfl_1_1Resampling.html">bfl::Resampling</a></div><div class="ttdef"><b>Definition:</b> <a href="Resampling_8h_source.html#l00013">Resampling.h:13</a></div></div>
<div class="ttc" id="classbfl_1_1LinearSensor_html"><div class="ttname"><a href="classbfl_1_1LinearSensor.html">bfl::LinearSensor</a></div><div class="ttdef"><b>Definition:</b> <a href="LinearSensor_8h_source.html#l00014">LinearSensor.h:14</a></div></div>
<div class="ttc" id="classbfl_1_1SIS_html"><div class="ttname"><a href="classbfl_1_1SIS.html">bfl::SIS</a></div><div class="ttdef"><b>Definition:</b> <a href="SIS_8h_source.html#l00018">SIS.h:18</a></div></div>
<div class="ttc" id="classbfl_1_1UpdateParticles_html"><div class="ttname"><a href="classbfl_1_1UpdateParticles.html">bfl::UpdateParticles</a></div><div class="ttdef"><b>Definition:</b> <a href="UpdateParticles_8h_source.html#l00014">UpdateParticles.h:14</a></div></div>
<div class="ttc" id="classbfl_1_1PFCorrectionDecorator_html"><div class="ttname"><a href="classbfl_1_1PFCorrectionDecorator.html">bfl::PFCorrectionDecorator</a></div><div class="ttdef"><b>Definition:</b> <a href="PFCorrectionDecorator_8h_source.html#l00013">PFCorrectionDecorator.h:13</a></div></div>
<div class="ttc" id="classbfl_1_1ParticleFilter_html_a213811368143c1f498c87be70cf02379"><div class="ttname"><a href="classbfl_1_1ParticleFilter.html#a213811368143c1f498c87be70cf02379">bfl::ParticleFilter::setPrediction</a></div><div class="ttdeci">void setPrediction(std::unique_ptr&lt; PFPrediction &gt; prediction)</div><div class="ttdef"><b>Definition:</b> <a href="ParticleFilter_8cpp_source.html#l00036">ParticleFilter.cpp:36</a></div></div>
</div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.14
</small></address>
</body>
</html>
