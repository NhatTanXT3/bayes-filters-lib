The following snippet code shows how to run a Sequential Importance Sampling (S\+IS) particle filter using the implementation provided by the library.~\newline



\begin{DoxyCodeInclude}
1 \textcolor{preprocessor}{#include <chrono>}
2 \textcolor{preprocessor}{#include <iostream>}
3 \textcolor{preprocessor}{#include <memory>}
4 
5 \textcolor{preprocessor}{#include <\mbox{\hyperlink{DrawParticles_8h}{BayesFilters/DrawParticles.h}}>}
6 \textcolor{preprocessor}{#include <\mbox{\hyperlink{LinearSensor_8h}{BayesFilters/LinearSensor.h}}>}
7 \textcolor{preprocessor}{#include <\mbox{\hyperlink{Resampling_8h}{BayesFilters/Resampling.h}}>}
8 \textcolor{preprocessor}{#include <\mbox{\hyperlink{SIS_8h}{BayesFilters/SIS.h}}>}
9 \textcolor{preprocessor}{#include <\mbox{\hyperlink{UpdateParticles_8h}{BayesFilters/UpdateParticles.h}}>}
10 \textcolor{preprocessor}{#include <\mbox{\hyperlink{WhiteNoiseAcceleration_8h}{BayesFilters/WhiteNoiseAcceleration.h}}>}
11 
12 \textcolor{keyword}{using namespace }\mbox{\hyperlink{namespacebfl}{bfl}};
13 
14 
15 \textcolor{keywordtype}{int} main()
16 \{
17     \textcolor{comment}{/* Initialize a white noise acceleration motion model */}
18     std::unique\_ptr<WhiteNoiseAcceleration> wna(\textcolor{keyword}{new} \mbox{\hyperlink{classbfl_1_1WhiteNoiseAcceleration}{WhiteNoiseAcceleration}}());
19 
20     \textcolor{comment}{/* Pass ownership of the motion model to the prediction step */}
21     std::unique\_ptr<DrawParticles> pf\_prediction(\textcolor{keyword}{new} \mbox{\hyperlink{classbfl_1_1DrawParticles}{DrawParticles}}());
22     pf\_prediction->setStateModel(std::move(wna));
23 
24 
25     \textcolor{comment}{/* Initialize a linear sensor (provides direct observation of the state) */}
26     std::unique\_ptr<LinearSensor> lin\_sense(\textcolor{keyword}{new} \mbox{\hyperlink{classbfl_1_1LinearSensor}{LinearSensor}}());
27 
28     \textcolor{comment}{/* Pass ownership of the observation model (the sensor) to the prediction step */}
29     std::unique\_ptr<UpdateParticles> pf\_correction(\textcolor{keyword}{new} \mbox{\hyperlink{classbfl_1_1UpdateParticles}{UpdateParticles}}());
30     pf\_correction->setObservationModel(std::move(lin\_sense));
31 
32     \textcolor{comment}{/* Initialize a resampling algorithm */}
33     std::unique\_ptr<Resampling> resampling(\textcolor{keyword}{new} \mbox{\hyperlink{classbfl_1_1Resampling}{Resampling}}());
34 
35 
36     std::cout << \textcolor{stringliteral}{"Constructing SIS particle filter..."} << std::flush;
37     \mbox{\hyperlink{classbfl_1_1SIS}{SIS}} sis\_pf;
38     sis\_pf.\mbox{\hyperlink{classbfl_1_1ParticleFilter_a213811368143c1f498c87be70cf02379}{setPrediction}}(std::move(pf\_prediction));
39     sis\_pf.\mbox{\hyperlink{classbfl_1_1ParticleFilter_a3d2935addf4481325a3fe8b99fe4d07a}{setCorrection}}(std::move(pf\_correction));
40     sis\_pf.\mbox{\hyperlink{classbfl_1_1ParticleFilter_ad1618ed06b6e6e143e309e2267b970ee}{setResampling}}(std::move(resampling));
41     std::cout << \textcolor{stringliteral}{"done!"} << std::endl;
42 
43 
44     std::cout << \textcolor{stringliteral}{"Preparing SIS particle filter..."} << std::flush;
45     sis\_pf.\mbox{\hyperlink{classbfl_1_1FilteringAlgorithm_a96651f8464190c0a56d79219a1017147}{boot}}();
46     std::cout << \textcolor{stringliteral}{"completed!"} << std::endl;
47 
48 
49     std::cout << \textcolor{stringliteral}{"Running SIS particle filter..."} << std::flush;
50     sis\_pf.\mbox{\hyperlink{classbfl_1_1FilteringAlgorithm_a009cbe5f4bbb16967f6c6ddcaed8fbb1}{run}}();
51     std::cout << \textcolor{stringliteral}{"waiting..."} << std::flush;
52     \textcolor{keywordflow}{if} (!sis\_pf.\mbox{\hyperlink{classbfl_1_1FilteringAlgorithm_a40372c24fa050eb0274371172df0a244}{wait}}())
53         \textcolor{keywordflow}{return} EXIT\_FAILURE;
54     std::cout << \textcolor{stringliteral}{"completed!"} << std::endl;
55 
56 
57     std::cout << \textcolor{stringliteral}{"Storing filtering results..."} << std::flush;
58     sis\_pf.\mbox{\hyperlink{classbfl_1_1SIS_a059da4c932379643ff7005fe4d0fda89}{getResult}}();
59     std::cout << \textcolor{stringliteral}{"done!"} << std::endl;
60 
61 
62     \textcolor{keywordflow}{return} EXIT\_SUCCESS;
63 \}
\end{DoxyCodeInclude}
 